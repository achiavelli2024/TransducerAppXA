<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="horizontal"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:padding="16dp"
    android:background="@android:color/white">

  <!-- Left column: controls (40% width) -->
  <LinearLayout
    android:orientation="vertical"
    android:layout_width="0dp"
    android:layout_weight="0.42"
    android:layout_height="match_parent"
    android:paddingRight="12dp">

    <LinearLayout
      android:orientation="horizontal"
      android:layout_width="match_parent"
      android:layout_height="wrap_content"
      android:gravity="center_vertical"
      android:layout_marginBottom="8dp">

      <EditText
        android:id="@+id/edtIP"
        android:layout_width="0dp"
        android:layout_weight="1"
        android:layout_height="44dp"
        android:hint="Transducer IP"
        android:inputType="text"
        android:paddingLeft="8dp"/>

      <Space android:layout_width="8dp" android:layout_height="wrap_content"/>

      <Switch
        android:id="@+id/switchLogging"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:checked="true"/>
    </LinearLayout>

    <LinearLayout android:orientation="horizontal" android:layout_width="match_parent" android:layout_height="wrap_content" android:layout_marginBottom="8dp">
      <Button android:id="@+id/btnConnect" android:layout_width="0dp" android:layout_weight="1" android:layout_height="44dp" android:text="CONNECT"/>
      <Space android:layout_width="8dp" android:layout_height="wrap_content"/>
      <Button android:id="@+id/btnDisconnect" android:layout_width="0dp" android:layout_weight="1" android:layout_height="44dp" android:text="DISCONNECT"/>
    </LinearLayout>

    <TextView android:layout_width="match_parent" android:layout_height="wrap_content" android:text="Acquisition Parameters" android:textStyle="bold" android:layout_marginBottom="6dp"/>

    <LinearLayout android:orientation="vertical" android:layout_width="match_parent" android:layout_height="wrap_content">
      <LinearLayout android:orientation="horizontal" android:layout_width="match_parent" android:layout_height="wrap_content" android:layout_marginBottom="8dp">
        <EditText android:id="@+id/txtThresholdIniFree" android:layout_width="0dp" android:layout_weight="1" android:layout_height="44dp" android:hint="Threshold Ini" android:inputType="numberDecimal" android:paddingLeft="8dp"/>
        <Space android:layout_width="8dp" android:layout_height="wrap_content"/>
        <EditText android:id="@+id/txtThresholdEndFree" android:layout_width="0dp" android:layout_weight="1" android:layout_height="44dp" android:hint="Threshold End" android:inputType="numberDecimal" android:paddingLeft="8dp"/>
      </LinearLayout>

      <LinearLayout android:orientation="horizontal" android:layout_width="match_parent" android:layout_height="wrap_content" android:layout_marginBottom="8dp">
        <EditText android:id="@+id/txtTimeoutFree" android:layout_width="0dp" android:layout_weight="1" android:layout_height="44dp" android:hint="Timeout (ms)" android:inputType="number" android:paddingLeft="8dp"/>
        <Space android:layout_width="8dp" android:layout_height="wrap_content"/>
        <EditText android:id="@+id/txtNominalTorque" android:layout_width="0dp" android:layout_weight="1" android:layout_height="44dp" android:hint="Nominal" android:inputType="numberDecimal" android:paddingLeft="8dp"/>
      </LinearLayout>

      <LinearLayout android:orientation="horizontal" android:layout_width="match_parent" android:layout_height="wrap_content" android:layout_marginBottom="8dp">
        <EditText android:id="@+id/txtMinimumTorque" android:layout_width="0dp" android:layout_weight="1" android:layout_height="44dp" android:hint="Min" android:inputType="numberDecimal" android:paddingLeft="8dp"/>
        <Space android:layout_width="8dp" android:layout_height="wrap_content"/>
        <EditText android:id="@+id/txtMaximoTorque" android:layout_width="0dp" android:layout_weight="1" android:layout_height="44dp" android:hint="Max" android:inputType="numberDecimal" android:paddingLeft="8dp"/>
      </LinearLayout>
    </LinearLayout>

    <LinearLayout android:orientation="horizontal" android:layout_width="match_parent" android:layout_height="wrap_content" android:layout_marginTop="8dp">
      <Button android:id="@+id/btnStartRead" android:layout_width="0dp" android:layout_weight="1" android:layout_height="44dp" android:text="START"/>
      <Space android:layout_width="8dp" android:layout_height="wrap_content"/>
      <Button android:id="@+id/btnStop" android:layout_width="0dp" android:layout_weight="1" android:layout_height="44dp" android:text="STOP"/>
    </LinearLayout>

    <LinearLayout android:orientation="horizontal" android:layout_width="match_parent" android:layout_height="wrap_content" android:layout_marginTop="8dp">
      <Button android:id="@+id/btnCopyLog" android:layout_width="0dp" android:layout_weight="1" android:layout_height="44dp" android:text="COPY"/>
      <Space android:layout_width="8dp" android:layout_height="wrap_content"/>
      <Button android:id="@+id/btnClearLog" android:layout_width="0dp" android:layout_weight="1" android:layout_height="44dp" android:text="CLEAR"/>
    </LinearLayout>

    <TextView android:id="@+id/tvStatus" android:layout_width="match_parent" android:layout_height="wrap_content" android:text="Status: Idle" android:textStyle="bold" android:layout_marginTop="12dp"/>
    <TextView android:id="@+id/tvTorque" android:layout_width="match_parent" android:layout_height="wrap_content" android:text="Torque: -" android:layout_marginTop="6dp"/>
    <TextView android:id="@+id/tvAngle" android:layout_width="match_parent" android:layout_height="wrap_content" android:text="Angle: -" android:layout_marginTop="4dp"/>

  </LinearLayout>

  <!-- Right column: log (58% width) -->
  <LinearLayout
    android:orientation="vertical"
    android:layout_width="0dp"
    android:layout_weight="0.58"
    android:layout_height="match_parent"
    android:paddingLeft="12dp">

    <TextView android:layout_width="match_parent" android:layout_height="wrap_content" android:text="Protocol Log (latest on bottom):" android:textStyle="bold" android:layout_marginBottom="6dp"/>

    <FrameLayout android:layout_width="match_parent" android:layout_height="match_parent" android:background="#FAFAFA" android:padding="8dp">
      <ScrollView android:id="@+id/scrollLog" android:layout_width="match_parent" android:layout_height="match_parent" android:fillViewport="true">
        <TextView android:id="@+id/tvLog" android:layout_width="match_parent" android:layout_height="wrap_content" android:text="" android:textIsSelectable="true" android:textSize="13sp" android:padding="4dp"/>
      </ScrollView>
    </FrameLayout>
  </LinearLayout>

</LinearLayout>